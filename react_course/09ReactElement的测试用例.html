<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      width: 60%;
      margin: 0 auto;
    }

    img {
      width: 100%;
    }
  </style>
</head>

<body>
  <div data-v-70c3a052="" data-v-7d9b0470="" class="content_detail_box" data-v-62a39206="">
    <div data-v-70c3a052="" id="xePreview" class="xe-preview">
      <div class="xe-preview__container">
        <div oncontextmenu="return true" class="xe-preview__content">
          <section id="nice"
            style="padding-right: 10px; padding-left: 10px; word-break: break-word; line-height: 1.25; letter-spacing: 2px; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;">
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              <span
                style="font-style: unset; font-variant-ligatures: unset; font-variant-caps: unset; font-weight: unset; text-decoration-line: unset;"></span><span
                style="font-style: unset; font-variant-ligatures: unset; font-variant-caps: unset; text-decoration-line: unset; color: rgb(119, 48, 152); font-size: 25px; font-weight: bold; word-spacing: normal;">第九课：ReactElement的测试用例</span><br>
            </p>
            <h1 style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; font-size: 25px;"><span
                class="suffix"></span></h1>
            <p
              style="margin-top: 10px; margin-bottom: 10px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; font-size: 16px; word-spacing: 2px;">
              <a href="https://github.com/BetaSu/big-react/commit/c542e19e1d53cc7d5de3a46fb61aeb556e366a41"
                style="color: rgb(145, 109, 213); font-weight: bolder; border-bottom: 1px solid rgb(145, 109, 213);">本节课代码地址</a>
            </p>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              本节课我们将实现第三种调试方式 —— 用例调试，包括三部分内容：</p>
            <ul style="list-style-type: circle;padding-left:30px;" class=" list-paddingleft-2">
              <li>
                <section
                  style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1); font-size: 14px;">
                  实现第一个测试工具<code
                    style="padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">test-utils</code>
                </section>
              </li>
              <li>
                <section
                  style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1); font-size: 14px;">
                  实现测试环境</section>
              </li>
              <li>
                <section
                  style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1); font-size: 14px;">
                  实现<code
                    style="padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">ReactElement</code>用例
                </section>
              </li>
            </ul>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              与测试相关的代码都来自<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">React</code>仓库，可以先把<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">React</code>仓库下载下来：
            </p>
            <pre class="custom"
              style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">git&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">clone</span>&nbsp;git@github.com:facebook/react.git<br></code></pre>
            <h2 style="font-weight: bold; font-size: 22px; margin-top: 20px; margin-right: 10px; margin-bottom: 0px;">
              <span class="prefix" style="display: none;"></span><span class="content"
                style="font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid rgb(145, 109, 213);">实现test-utils</span><span
                class="suffix"></span></h2>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              这是用于测试的工具集，来源自<a
                href="https://github.com/facebook/react/blob/main/packages/react-dom/src/test-utils/ReactTestUtils.js"
                style="color: rgb(145, 109, 213); font-weight: bolder; border-bottom: 1px solid rgb(145, 109, 213);">ReactTestUtils.js</a>，特点是：使用<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">ReactDOM</code>作为宿主环境
            </p>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              题外话：有没有其他测试工具？</p>
            <h2 style="font-weight: bold; font-size: 22px; margin-top: 20px; margin-right: 10px; margin-bottom: 0px;">
              <span class="prefix" style="display: none;"></span><span class="content"
                style="font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid rgb(145, 109, 213);">实现测试环境</span><span
                class="suffix"></span></h2>
            <pre class="custom"
              style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">pnpm&nbsp;i&nbsp;-D&nbsp;-w&nbsp;jest&nbsp;jest-config&nbsp;jest-environment-jsdom<br></code></pre>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              配置：</p>
            <pre class="custom"
              style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;{&nbsp;defaults&nbsp;}&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">require</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'jest-config'</span>);<br><br><span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">module</span>.exports&nbsp;=&nbsp;{<br>&nbsp;&nbsp;...defaults,<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">rootDir</span>:&nbsp;process.cwd(),<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">modulePathIgnorePatterns</span>:&nbsp;[<span class="hljs-string" style="color: #98c379; line-height: 26px;">'&lt;rootDir&gt;/.history'</span>],<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">moduleDirectories</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;对于&nbsp;React&nbsp;ReactDOM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'dist/node_modules'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;对于第三方依赖</span><br>&nbsp;&nbsp;&nbsp;&nbsp;...defaults.moduleDirectories<br>&nbsp;&nbsp;],<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">testEnvironment</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'jsdom'</span><br>};<br></code></pre>
            <h2 style="font-weight: bold; font-size: 22px; margin-top: 20px; margin-right: 10px; margin-bottom: 0px;">
              <span class="prefix" style="display: none;"></span><span class="content"
                style="font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid rgb(145, 109, 213);">实现ReactElement用例</span><span
                class="suffix"></span></h2>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              来源自<a href="https://github.com/facebook/react/blob/main/packages/react/src/__tests__/ReactElement-test.js"
                style="color: rgb(145, 109, 213); font-weight: bolder; border-bottom: 1px solid rgb(145, 109, 213);">ReactElement-test.js</a>，用例代码在本节最后。
            </p>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              为<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">jest</code>增加<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">JSX</code>解析能力，安装<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">Babel</code>：
            </p>
            <pre class="custom"
              style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">pnpm&nbsp;i&nbsp;-D&nbsp;-w&nbsp;@babel/core&nbsp;@babel/preset-env&nbsp;@babel/plugin-transform-react-jsx<br></code></pre>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              新增<code
                style="font-size: 14px; padding: 2px 4px; border-radius: 4px; margin-right: 2px; margin-left: 2px; font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(145, 109, 213); font-weight: bolder; background: none;">babel.config.js</code>：
            </p>
            <pre class="custom"
              style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">module</span>.exports&nbsp;=&nbsp;{<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">presets</span>:&nbsp;[<span class="hljs-string" style="color: #98c379; line-height: 26px;">'@babel/preset-env'</span>],<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">plugins</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'@babel/plugin-transform-react-jsx'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">throwIfNamespace</span>:&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>}<br>&nbsp;&nbsp;&nbsp;&nbsp;]<br>&nbsp;&nbsp;]<br>}<br></code></pre>
            <p
              style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; word-spacing: 2px;">
              用例代码：</p>
            <pre class="custom"
              style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">/**<br>&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;Facebook,&nbsp;Inc.&nbsp;and&nbsp;its&nbsp;affiliates.<br>&nbsp;*<br>&nbsp;*&nbsp;This&nbsp;source&nbsp;code&nbsp;is&nbsp;licensed&nbsp;under&nbsp;the&nbsp;MIT&nbsp;license&nbsp;found&nbsp;in&nbsp;the<br>&nbsp;*&nbsp;LICENSE&nbsp;file&nbsp;in&nbsp;the&nbsp;root&nbsp;directory&nbsp;of&nbsp;this&nbsp;source&nbsp;tree.<br>&nbsp;*<br>&nbsp;*&nbsp;<span class="hljs-doctag" style="color: #c678dd; line-height: 26px;">@emails&nbsp;<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">react</span></span>-core<br>&nbsp;*/</span><br><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">'use&nbsp;strict'</span>;<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;React;<br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;ReactDOM;<br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;ReactTestUtils;<br><br>describe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'ReactElement'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;ComponentFC;<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;originalSymbol;<br><br>&nbsp;&nbsp;beforeEach(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;jest.resetModules();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;Delete&nbsp;the&nbsp;native&nbsp;Symbol&nbsp;if&nbsp;we&nbsp;have&nbsp;one&nbsp;to&nbsp;ensure&nbsp;we&nbsp;test&nbsp;the</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;unpolyfilled&nbsp;environment.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;originalSymbol&nbsp;=&nbsp;global.Symbol;<br>&nbsp;&nbsp;&nbsp;&nbsp;global.Symbol&nbsp;=&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">undefined</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;React&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">require</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'react'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;ReactDOM&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">require</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'react-dom'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;ReactTestUtils&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">require</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'react-dom/test-utils'</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;<span class="hljs-doctag" style="color: #c678dd; line-height: 26px;">NOTE:</span>&nbsp;We're&nbsp;explicitly&nbsp;not&nbsp;using&nbsp;JSX&nbsp;here.&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;classic&nbsp;JS&nbsp;without&nbsp;JSX.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;ComponentFC&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;afterEach(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;global.Symbol&nbsp;=&nbsp;originalSymbol;<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'uses&nbsp;the&nbsp;fallback&nbsp;value&nbsp;when&nbsp;in&nbsp;an&nbsp;environment&nbsp;without&nbsp;Symbol'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;expect((<span class="xml" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e06c75; line-height: 26px;">div</span>&nbsp;/&gt;</span>).$$<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">typeof</span>).toBe(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0xeac7</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'returns&nbsp;a&nbsp;complete&nbsp;element&nbsp;according&nbsp;to&nbsp;spec'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type).toBe(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.key).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.ref).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props).toEqual({});<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'allows&nbsp;a&nbsp;string&nbsp;to&nbsp;be&nbsp;passed&nbsp;as&nbsp;the&nbsp;type'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.key).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.ref).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props).toEqual({});<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'returns&nbsp;an&nbsp;immutable&nbsp;element'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;(element.type&nbsp;=&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>)).not.toThrow();<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'does&nbsp;not&nbsp;reuse&nbsp;the&nbsp;original&nbsp;config&nbsp;object'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;config&nbsp;=&nbsp;{&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;config);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.foo).toBe(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;config.foo&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.foo).toBe(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'does&nbsp;not&nbsp;fail&nbsp;if&nbsp;config&nbsp;has&nbsp;no&nbsp;prototype'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;config&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">Object</span>.create(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>,&nbsp;{&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;{&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">value</span>:&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>,&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">enumerable</span>:&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>&nbsp;}&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;config);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.foo).toBe(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'extracts&nbsp;key&nbsp;and&nbsp;ref&nbsp;from&nbsp;the&nbsp;config'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">key</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'12'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">ref</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'34'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'56'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type).toBe(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.key).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'12'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.ref).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'34'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props).toEqual({&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'56'</span>&nbsp;});<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'extracts&nbsp;null&nbsp;key&nbsp;and&nbsp;ref'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">key</span>:&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">ref</span>:&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'12'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type).toBe(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.key).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'null'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.ref).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props).toEqual({&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'12'</span>&nbsp;});<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'ignores&nbsp;undefined&nbsp;key&nbsp;and&nbsp;ref'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;props&nbsp;=&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'56'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">key</span>:&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">undefined</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">ref</span>:&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">undefined</span><br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;props);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type).toBe(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.key).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.ref).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props).toEqual({&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'56'</span>&nbsp;});<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'ignores&nbsp;key&nbsp;and&nbsp;ref&nbsp;warning&nbsp;getters'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;elementA&nbsp;=&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;elementB&nbsp;=&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>,&nbsp;elementA.props);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(elementB.key).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(elementB.ref).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'coerces&nbsp;the&nbsp;key&nbsp;to&nbsp;a&nbsp;string'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">key</span>:&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">12</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'56'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type).toBe(ComponentFC);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.key).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'12'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.ref).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props).toEqual({&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">foo</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'56'</span>&nbsp;});<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'merges&nbsp;an&nbsp;additional&nbsp;argument&nbsp;onto&nbsp;the&nbsp;children&nbsp;prop'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;a&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ComponentFC,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">children</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'text'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a<br>&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.children).toBe(a);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'does&nbsp;not&nbsp;override&nbsp;children&nbsp;if&nbsp;no&nbsp;rest&nbsp;args&nbsp;are&nbsp;provided'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">children</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'text'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.children).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'text'</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'overrides&nbsp;children&nbsp;if&nbsp;null&nbsp;is&nbsp;provided&nbsp;as&nbsp;an&nbsp;argument'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ComponentFC,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">children</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'text'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span><br>&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.children).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'merges&nbsp;rest&nbsp;arguments&nbsp;onto&nbsp;the&nbsp;children&nbsp;prop&nbsp;in&nbsp;an&nbsp;array'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;a&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;b&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;c&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">3</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(ComponentFC,&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>,&nbsp;a,&nbsp;b,&nbsp;c);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.props.children).toEqual([<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>,&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">2</span>,&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">3</span>]);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;<span class="hljs-doctag" style="color: #c678dd; line-height: 26px;">NOTE:</span>&nbsp;We're&nbsp;explicitly&nbsp;not&nbsp;using&nbsp;JSX&nbsp;here.&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;test</span><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;classic&nbsp;JS&nbsp;without&nbsp;JSX.</span><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'allows&nbsp;static&nbsp;methods&nbsp;to&nbsp;be&nbsp;called&nbsp;using&nbsp;the&nbsp;type&nbsp;property'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">StaticMethodComponent</span>(<span class="hljs-params" style="line-height: 26px;"></span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;StaticMethodComponent.someStaticMethod&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'someReturnValue'</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(StaticMethodComponent);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.type.someStaticMethod()).toBe(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'someReturnValue'</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;<span class="hljs-doctag" style="color: #c678dd; line-height: 26px;">NOTE:</span>&nbsp;We're&nbsp;explicitly&nbsp;not&nbsp;using&nbsp;JSX&nbsp;here.&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;test</span><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;classic&nbsp;JS&nbsp;without&nbsp;JSX.</span><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'identifies&nbsp;valid&nbsp;elements'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">Component</span>(<span class="hljs-params" style="line-height: 26px;"></span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>))).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(React.createElement(Component))).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement({})).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'string'</span>)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(Component)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement({&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">type</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>,&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">props</span>:&nbsp;{}&nbsp;})).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;jsonElement&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">JSON</span>.stringify(React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">JSON</span>.parse(jsonElement))).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;<span class="hljs-doctag" style="color: #c678dd; line-height: 26px;">NOTE:</span>&nbsp;We're&nbsp;explicitly&nbsp;not&nbsp;using&nbsp;JSX&nbsp;here.&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;test</span><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;classic&nbsp;JS&nbsp;without&nbsp;JSX.</span><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'is&nbsp;indistinguishable&nbsp;from&nbsp;a&nbsp;plain&nbsp;object'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;element&nbsp;=&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>,&nbsp;{&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">className</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'foo'</span>&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;object&nbsp;=&nbsp;{};<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(element.constructor).toBe(object.constructor);<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'does&nbsp;not&nbsp;warn&nbsp;for&nbsp;NaN&nbsp;props'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">Test</span>(<span class="hljs-params" style="line-height: 26px;"></span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;<span class="xml" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e06c75; line-height: 26px;">div</span>&nbsp;/&gt;</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;test&nbsp;=&nbsp;ReactTestUtils.renderIntoDocument(<span class="xml" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e06c75; line-height: 26px;">Test</span>&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">value</span>=<span class="hljs-string" style="color: #98c379; line-height: 26px;">{+undefined}</span>&nbsp;/&gt;</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(test.props.value).toBeNaN();<br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;<span class="hljs-doctag" style="color: #c678dd; line-height: 26px;">NOTE:</span>&nbsp;We're&nbsp;explicitly&nbsp;not&nbsp;using&nbsp;JSX&nbsp;here.&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;test</span><br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;//&nbsp;classic&nbsp;JS&nbsp;without&nbsp;JSX.</span><br>&nbsp;&nbsp;it(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'identifies&nbsp;elements,&nbsp;but&nbsp;not&nbsp;JSON,&nbsp;if&nbsp;Symbols&nbsp;are&nbsp;supported'</span>,&nbsp;()&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;Rudimentary&nbsp;polyfill</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;Once&nbsp;all&nbsp;jest&nbsp;engines&nbsp;support&nbsp;Symbols&nbsp;natively&nbsp;we&nbsp;can&nbsp;swap&nbsp;this&nbsp;to&nbsp;test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;WITH&nbsp;native&nbsp;Symbols&nbsp;by&nbsp;default.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">/*eslint-disable&nbsp;*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;REACT_ELEMENT_TYPE&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;(<span class="hljs-params" style="line-height: 26px;"></span>)&nbsp;</span>{};&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;fake&nbsp;Symbol</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;OTHER_SYMBOL&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;(<span class="hljs-params" style="line-height: 26px;"></span>)&nbsp;</span>{};&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;another&nbsp;fake&nbsp;Symbol</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">/*eslint-enable&nbsp;*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;global.Symbol&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;(<span class="hljs-params" style="line-height: 26px;">name</span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;OTHER_SYMBOL;<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;global.Symbol.for&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;(<span class="hljs-params" style="line-height: 26px;">key</span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;(key&nbsp;===&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'react.element'</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;REACT_ELEMENT_TYPE;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;OTHER_SYMBOL;<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br><br>&nbsp;&nbsp;&nbsp;&nbsp;jest.resetModules();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;React&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">require</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'react'</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">Component</span>(<span class="hljs-params" style="line-height: 26px;"></span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>))).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(React.createElement(Component))).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">null</span>)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement({})).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'string'</span>)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(Component)).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement({&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">type</span>:&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>,&nbsp;<span class="hljs-attr" style="color: #d19a66; line-height: 26px;">props</span>:&nbsp;{}&nbsp;})).toEqual(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;jsonElement&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">JSON</span>.stringify(React.createElement(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'div'</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;expect(React.isValidElement(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">JSON</span>.parse(jsonElement))).toBe(<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;});<br>});<br></code></pre>
          </section>
          <p><br></p>
        </div>
      </div>
    </div><!---->
  </div>
</body>

</html>